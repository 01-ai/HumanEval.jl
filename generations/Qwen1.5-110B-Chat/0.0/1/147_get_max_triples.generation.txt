```julia
function get_max_triples(n::Int)::Int
    a = [i * i - i + 1 for i in 1:n]
    count = 0
    for i in 1:(n-2)
        for j in (i+1):(n-1)
            for k in (j+1):n
                if (a[i] + a[j] + a[k]) % 3 == 0
                    count += 1
                end
            end
        end
    end
    return count
end
```

This function calculates the array `a` based on the given formula, then iterates through all possible triples of indices (i, j, k) with i < j < k, counting the ones where the sum of the elements at those indices is a multiple of 3.